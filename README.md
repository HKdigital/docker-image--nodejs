
# About

The image generated by this project can be used as to run a NodeJS program

# Usage

## Just try it out (using docker-compose)

See also the folder `/examples`.

Below an example of using the image in a docker-compose file

```yaml
version: "3.8"

services:
  nodejs:
    # image: hkdigital/nodejs-2021a     # docker-hub
    image: hkdigital-nodejs-2021a     # local    

    restart: on-failure # "no"|always|on-failure|unless-stopped

    environment:
      - WATCH=1                                   # 1 use `nodemon` not `node`
      - HEAP_SIZE_MB=1024                         # NodeJs --max-old-space-size
      - PARAMS=--radius=1 --calculation=surface   # NodeJs parameters
      - NODE_ENV=production

    volumes:
      - ./volumes/some-calculation:/mnt/nodejs
```

# Build locally

Clone the latest commit from github into a local working directory

```bash
git clone --depth 1 \
  git@github.com:hkdigital/docker-images--nodejs-2021a.git \
  hkdigital-nodejs-2021a
```

Build the docker image

```bash
./build-latest-image.sh
```
